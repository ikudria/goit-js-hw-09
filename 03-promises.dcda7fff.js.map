{"mappings":"AAAgBA,SAASC,cAAc,SAC/BC,iBAAiB,UAEzB,SAAsBC,G,kBAWlB,IAAMC,EAAkB,IAANC,EAAUC,EAAaA,GAAcD,EAAI,GAAKE,EAChEC,YAAW,WAYf,IAAuBC,EAAUC,GAAVD,EAXHJ,EAWaK,EAXVN,EAYd,IAAIO,SAAQ,SAACC,EAASC,GACLC,KAAKC,SAAW,GAIpCH,EAAQ,CAAEH,WAAUC,UAIpBG,EAAO,CAAEJ,WAAUC,cApBhBM,MAAK,SAAAC,GAAWA,EAARR,S,IAAUC,EAAKO,EAALP,MACjBQ,QAAQC,IAAI,uBAAiCC,OAARf,EAAE,QAAYe,OAANV,EAAM,UAEpDW,OAAM,SAAAJ,GAAWA,EAARR,S,IAAUC,EAAKO,EAALP,MAClBQ,QAAQC,IAAI,sBAA8BC,OAARf,EAAE,QAAYe,OAANV,EAAM,YAEnDN,IAnBLD,EAAEmB,iBAQF,IAPA,IAAMC,EAAOpB,EAAEqB,cAETlB,EAAamB,OAAOF,EAAKG,SAAShB,MAAMiB,OAExCpB,EAAOkB,OAAOF,EAAKG,SAASnB,KAAKoB,OACjCC,EAASH,OAAOF,EAAKG,SAASE,OAAOD,OAElCE,EAAI,EAAGA,GAAKD,EAAQC,GAAK,EAACC,EAAAD","sources":["src/js/03-promises.js"],"sourcesContent":["const formRef = document.querySelector('.form');\nformRef.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  const form = e.currentTarget;\n\n  const delayValue = Number(form.elements.delay.value);\n\n  const step = Number(form.elements.step.value);\n  const amount = Number(form.elements.amount.value);\n\n  for (let i = 1; i <= amount; i += 1) {\n    i;\n    const calcDelay = i === 1 ? delayValue : delayValue + (i - 1) * step;\n    setTimeout(() => {\n      createPromise(i, calcDelay)\n        .then(({ position, delay }) => {\n          console.log(`✅ Fulfilled promise ${i} in ${delay}ms`);\n        })\n        .catch(({ position, delay }) => {\n          console.log(`❌ Rejected promise ${i} in ${delay}ms`);\n        });\n    }, calcDelay);\n  }\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    if (shouldResolve) {\n      //fullfill\n      resolve({ position, delay });\n    } else {\n      // Reject\n\n      reject({ position, delay });\n    }\n  });\n}\n\n// createPromise(2, 1500);\n"],"names":["document","querySelector","addEventListener","e","calcDelay","i","delayValue","step","setTimeout","position","delay","Promise","resolve","reject","Math","random","then","param","console","log","concat","catch","preventDefault","form","currentTarget","Number","elements","value","amount","i1","_loop"],"version":3,"file":"03-promises.dcda7fff.js.map"}