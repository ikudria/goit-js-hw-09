{"mappings":"AAAgBA,SAASC,cAAc,SAC/BC,iBAAiB,UAEzB,SAAsBC,GACpBA,EAAEC,iBACF,MAAMC,EAAOF,EAAEG,cAETC,EAAaC,OAAOH,EAAKI,SAASC,MAAMC,OAExCC,EAAOJ,OAAOH,EAAKI,SAASG,KAAKD,OACjCE,EAASL,OAAOH,EAAKI,SAASI,OAAOF,OAE3C,IAAK,IAAIG,EAAI,EAAGA,GAAKD,EAAQC,GAAK,EAAG,CAEnC,MAAMC,EAAkB,IAAND,EAAUP,EAAaA,GAAcO,EAAI,GAAKF,EAChEI,YAAW,KAYf,IAAuBC,EAAUP,GAAVO,EAXHH,EAWaJ,EAXVK,EAYd,IAAIG,SAAQ,CAACC,EAASC,KAC3B,MAAMC,EAAgBC,KAAKC,SAAW,GAElCF,EAEFF,EAAQ,C,SAAEF,E,MAAUP,IAIpBU,EAAO,C,SAAEH,E,MAAUP,QApBhBc,MAAK,EAACP,SAAEA,EAAQP,MAAEA,MACjBe,QAAQC,IAAI,uBAAqBZ,QAAUJ,UAE5CiB,OAAM,EAACV,SAAEA,EAAQP,MAAEA,MAClBe,QAAQC,IAAI,sBAAoBZ,QAAQJ,YAE3CK","sources":["src/js/03-promises.js"],"sourcesContent":["const formRef = document.querySelector('.form');\nformRef.addEventListener('submit', onFormSubmit);\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n  const form = e.currentTarget;\n\n  const delayValue = Number(form.elements.delay.value);\n\n  const step = Number(form.elements.step.value);\n  const amount = Number(form.elements.amount.value);\n\n  for (let i = 1; i <= amount; i += 1) {\n    i;\n    const calcDelay = i === 1 ? delayValue : delayValue + (i - 1) * step;\n    setTimeout(() => {\n      createPromise(i, calcDelay)\n        .then(({ position, delay }) => {\n          console.log(`✅ Fulfilled promise ${i} in ${delay}ms`);\n        })\n        .catch(({ position, delay }) => {\n          console.log(`❌ Rejected promise ${i} in ${delay}ms`);\n        });\n    }, calcDelay);\n  }\n}\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    if (shouldResolve) {\n      //fullfill\n      resolve({ position, delay });\n    } else {\n      // Reject\n\n      reject({ position, delay });\n    }\n  });\n}\n\n// createPromise(2, 1500);\n"],"names":["document","querySelector","addEventListener","e","preventDefault","form","currentTarget","delayValue","Number","elements","delay","value","step","amount","i","calcDelay","setTimeout","position","Promise","resolve","reject","shouldResolve","Math","random","then","console","log","catch"],"version":3,"file":"03-promises.c7dd2416.js.map"}